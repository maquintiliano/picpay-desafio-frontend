<mat-toolbar class="header mat-elevation-z4">
	<span>
		<img class="logo" src="assets/Logo.png" alt="logo" />
	</span>
	<span>
		<a>
			<img class="perfil" src="assets/perfil.png" alt="perfil" />
		</a>
	</span>
</mat-toolbar>

<mat-card class="mat-elevation-z0">
	<mat-card-title class="title"> Meus pagamentos </mat-card-title>
	<button class="add-button" mat-raised-button (click)="onCreate()">
		ADICIONAR PAGAMENTO
	</button>
</mat-card>

<div class="table-div mat-elevation-z8">
	<div class="table-header">
		<mat-form-field class="search-form-field">
			<input
				matInput
				placeholder="Pesquisa por usuário"
				(keyup)="applyFilter($event.target.value)"
			/>
			<i class="material-icons search" matSuffix>search</i>
		</mat-form-field>
		<mat-paginator
			[pageSizeOptions]="[5, 10, 25, 100]"
			[pageSize]="5"
			showFirstLastButtons
		></mat-paginator>
	</div>
	<mat-table [dataSource]="listData" matSort>
		<ng-container matColumnDef="name">
			<mat-header-cell *matHeaderCellDef mat-sort-header
				>Usuário</mat-header-cell
			>
			<mat-cell *matCellDef="let element" class="userCell">
				<p class="name">{{ element.name }}</p>
				<p class="username">@{{ element.username }}</p>
			</mat-cell>
		</ng-container>
		<ng-container matColumnDef="title">
			<mat-header-cell *matHeaderCellDef mat-sort-header
				>Título</mat-header-cell
			>
			<mat-cell *matCellDef="let element">{{ element.title }}</mat-cell>
		</ng-container>
		<ng-container matColumnDef="date">
			<mat-header-cell *matHeaderCellDef mat-sort-header>Data</mat-header-cell>

			<mat-cell *matCellDef="let element">{{ element.date | date }}</mat-cell>
		</ng-container>
		<ng-container matColumnDef="value">
			<mat-header-cell *matHeaderCellDef mat-sort-header>Valor</mat-header-cell>
			<mat-cell *matCellDef="let element">{{
				element.value | currency: 'BRL'
			}}</mat-cell>
		</ng-container>
		<ng-container matColumnDef="isPayed">
			<mat-header-cell *matHeaderCellDef mat-sort-header>Pago</mat-header-cell>
			<mat-cell *matCellDef="let element">
				<mat-checkbox
					[checked]="element.isPayed"
					name="isPayed"
					noop="true"
				></mat-checkbox
			></mat-cell>
		</ng-container>
		<ng-container matColumnDef="action">
			<mat-header-cell *matHeaderCellDef> </mat-header-cell>
			<mat-cell *matCellDef="let element">
				<button (click)="onEdit(element.id)" class="icon-button">
					<img class="edit" src="assets/edit.svg" alt="edit" />
				</button>
				<button (click)="onDelete(element.id)" class="icon-button">
					<img class="delete" src="assets/delete.svg" alt="delete" />
				</button>
			</mat-cell>
		</ng-container>
		<ng-container matColumnDef="loading">
			<mat-footer-cell *matFooterCellDef colspan="6">
				Carregando...
			</mat-footer-cell>
		</ng-container>
		<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
		<mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
		<mat-footer-row
			*matFooterRowDef="['loading']"
			[ngClass]="{ hide: listData != null }"
		></mat-footer-row>
	</mat-table>
</div>
